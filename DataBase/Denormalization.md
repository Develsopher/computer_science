# 데이터베이스 반정규화: Denormalization 🚀

|  반정규화 기법 | 목적 | 예시 |
| --- | --- | --- |
| 테이블 통합 | 조인 최소화 | 주문 테이블과 주문 상세 테이블 통합 |
| 테이블 분할 | 데이터 관리 및 성능 | 수직 분할, 수평 분할 |
| 중복 테이블 추가 | 데이터 접근 시간 감소 | 집계 테이블, 진행 테이블, 특정 테이블 |
| 중복 속성 추가 | 계산 또는 참조 비용 감소 | 자주 사용하는 정보 추가 |

## 반정규화란? 🤔

반정규화는 성능 향상과 운영 효율성을 목적으로, 정규화된 데이터베이스에서 의도적으로 중복을 허용하거나 테이블 구조를 변경하는 설계 기법입니다.

## 반정규화 방법

### 1️⃣ 테이블 통합 🚗
- <mark>목적</mark> : `조인 연산 최소화`
- 방법: 관련된 정보를 담은 테이블을 하나로 통합합니다.
    - 1:1 관계 : 독립된 정보를 갖는 테이블을 하나로 통합할 수 있습니다.
    - 1:N 관계 : 자주 함께 사용되는 정보를 테이블에 통합하여 관리합니다.
    - 슈퍼타입/서브타입 : 공통된 속성을 가지는 테이블을 통합하여 중복을 줄입니다.

`Example`
| 이름 | 취미  |
| --- | ---- |
| 김땡땡 | 낚시 |
| 이땡땡 | 이발 |
| 박땡땡 | 쇼핑, 폭식 |
| 최땡땡 | 주식, 투기 |
| 정땡땡 | 음주 |



### 2️⃣ 테이블 분할 🎯
- <mark>목적</mark> : `관리 용이성 및 성능 향상`
- 방법: 테이블을 더 작은 단위로 나눕니다.
    - 수평 분할 : 데이터 `행`을 나누어 다른 테이블에 저장합니다.
    - 수직 분할 : 테이블의 `컬럼`을 나누어 다른 테이블에 저장합니다.
- 유의사항 :
    - 기본키 유일성 관리 : 데이터가 여러 테이블로 분할될 때, 모든 테이블에서 기본키가 유일하고 일관되게 유지되도록 관리하는 것이 어려울 수 있습니다.




### 3️⃣ 중복 테이블 추가 📊
- <mark>목적</mark> : `데이터 접근 시간 감소`
- 방법 : 원본 테이블의 데이터를 부분적으로 복사하여 새 테이블을 추가합니다.(💡집진특)
    - 집계 테이블 : 정기적으로 집계가 필요한 데이터를 별도의 테이블에 저장합니다.
    - 진행 테이블 : 특정 작업의 상태를 추적하기 위한 테이블을 추가합니다.
    - 특정 부분만 포함하는 테이블 : 자주 접근하는 데이터 부분만을 포함하는 테이블을 만듭니다.
    

### 4️⃣ 중복 속성 추가 🔍
- <mark>목적</mark> : 계산 또는 참조 비용 감소
- 방법 : 자주 사용되는 정보의 계산 결과나 참조 값을 중복하여 저장합니다.

## 반정규화의 장점 🌈

- **조회 성능 향상**: 데이터 접근 시간이 줄어들어 조회 성능이 향상됩니다.
- **트랜잭션 성능 향상**: 조인 연산 감소로 인해 트랜잭션 처리가 빨라집니다.

## 반정규화의 단점 🌧️

- **데이터 중복으로 인한 관리 복잡성**: 중복 데이터 관리로 인한 오버헤드가 증가합니다.
- **데이터 무결성 위험**: 중복 데이터 간의 동기화 문제로 무결성이 침해될 수 있습니다.

## 결론 🎯

반정규화는 성능 향상을 위해 데이터 중복을 의도적으로 허용하거나 테이블 구조를 변경합니다. 데이터 일관성과 무결성을 유지하며 성능을 향상시키기 위한 적절한 균형을 찾는 것이 중요합니다.