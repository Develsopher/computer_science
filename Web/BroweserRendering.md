# 브라우저 동작 방식
브라우저는 아마도 가장 많이 사용하는 소프트웨어일 것이다. 
브라우저 주소 창에 naver.com을 입력했을 때 어떤 과정을 거쳐 네이버 페이지가 화면에 보이게 되는지 알아보자.
<br>

***

### 브라우저의 주요 기능
브라우저의 주요 기능은 사용자가 선택한 자원을 서버에 요청하고 브라우저에 표시하는 것이다.
브라우저의 사용자 인터페이스는 보통 다음과 같다.
* URI를 입력할 수 있는 주소 표시 줄
* 이전 버튼과 다음 버튼
* 북마크
* 새로 고침 버튼과 현재 문서의 로드를 중단할 수 있는 정지 버튼
* 홈 버튼

>인터페이스에는 표준 명세가 없지만 시간이 지나면서 서로를 모방하며 비슷한 형태를 가지게 되었다.

<br>

***

### 브라우저의 기본 구조

![](https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png)

1. 사용자 인터페이스 - 주소 표시줄, 이전/다음 버튼, 북마크 등 웹페이지를 제외한 사용자와 상호작용하는 나머지 모든 부분
2. 브라우저 엔진 - 사용자 인터페이스와 렌더링 엔진 사이를 연결
3. 렌더링 엔진 - HTML과 CSS를 파싱하여 요청한 웹페이지를 표시
4. 통신 - HTTP 요청과 같은 네트워크 호출에 사용
5. UI 백엔드 - 콤보 박스와 버튼같은 기본적인 장치를 그림
6. 자바스크립트 해석기 - 자바스크립트 코드를 해석하고 실행
7. 자료 저장소 - cookie같은 자원들을 하드디스크에 저장
<br>

***

### 렌더링(Rendering)
서버로부터 HTML, CSS, JavaScript 등 작성한 파일을 받아 브라우저에 뿌려주는 것이다.
플러그인이나 브라우저 확장 기능을 이용해 PDF와 같은 다른 유형도 표시할 수 있다.
<br>

***

### 렌더링 엔진의 종류
* Safari - Webkit
* Firefox - Gecko
* Chrome - Blink
<br>

***

### 동작 과정(Critical Rendering Path)
![](https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png)
1. 우선 HTML문서를 파싱하고 **콘텐츠 트리** 내부에서 태그를 DOM 노드로 변경한다.
2. 외부 CSS 파일과 함께 포함된 스타일 요소도 파싱한다. 
3. 이 스타일 정보와 HTML 표시 규칙은 **렌더트리**라고 부르는 새로운 트리를 생성한다.
4. 렌더 트리 생성이 끝나면 배치가 시작되는데 이것은 각 노드가 화면의 정확한 위치에 생성된다.
5. UI 백엔드에서 렌더 트리의 각 노드를 가로지르며 형상을 만들어 낸다.

>일련의 과정들이 점진적으로 진행된다는 것을 아는 것이 중요하다. 
렌더링 엔진은 좀 더 나은 사용자 경험을 위해 가능하면 빠르게 내용을 표시하는데 모든 HTML을 파싱할 때까지 기다리지 않고 배치와 그리기 과정을 시작한다.
네트워크로부터 나머지 내용이 전송되기를 기다리는 동시에 받은 내용의 일부를 먼저 화면에 표시하는 것이다.

<br>

***

### DOM
Document Object Model(문서 객체 모델)

Chrome에서 f12를 눌러 개발자 도구를 보면 html, body와 같은 태그들이 존재한다. 이를 Javascript가 활용할 수 있는 객체로 만들면 문서 객체가 된다.

모델은 말 그대로 모듈화로 만들었다거나 객체를 인식한다라는 뜻이다.

즉, DOM은 웹 브라우저가 html 페이지를 인식하는 방식을 말한다. (트리구조)
<br>
  
***

### 파싱(Parsing)
= 구문 분석  
문서나 HTML 등 어떤 큰 자료에서 내가 원하는 정보만 가공하고 추출해서 원할 때 불러올 수 있도록 하는 것이다.
<br>
##### 참고자료
[브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)
